<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Window layers."><title>zng::layer - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="zng" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo-icon.png"><link rel="stylesheet" href="/doc/zng-material-icons-extensions.css">
</head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../zng/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../zng/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo.png" alt="logo"></a><h2><a href="../../zng/index.html">zng</a><span class="version">0.12.4</span></h2></div><h2 class="location"><a href="#">Module layer</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#statics">Statics</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate zng</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">zng</a>::<wbr><a class="mod" href="#">layer</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/zng/layer.rs.html#1-47">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Window layers.</p>
<p>The window layers is a z-order stacking panel that fills the window content area, widgets can be inserted
with a <em>z-index</em> that is the <a href="struct.LayerIndex.html" title="struct zng::layer::LayerIndex"><code>LayerIndex</code></a>. Layers can be anchored to a normal widget, positioned relative
to it with linked visibility.</p>
<p>The <a href="struct.LAYERS.html" title="struct zng::layer::LAYERS"><code>LAYERS</code></a> service can be used to insert and remove layers, the example below uses it to <em>toggle</em> a
an adorner positioned relative to the button that inserts and removes it.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>zng::prelude::<span class="kw-2">*</span>;

<span class="kw">let </span>inserted = var(<span class="bool-val">false</span>);
<span class="kw">let </span>anchored = WidgetId::new_unique();
<span class="macro">Button!</span> {
    on_click = <span class="macro">hn!</span>(inserted, |<span class="kw">_</span>| {
        <span class="kw">if </span>!inserted.get() {
            LAYERS.insert_anchored(LayerIndex::ADORNER, WIDGET.id(), layer::AnchorOffset::out_top(), <span class="macro">Text!</span> {
                id = anchored;
                txt = <span class="string">"Example"</span>;
                widget::background_color = colors::BLUE;
                layout::y = <span class="number">5</span>;
            });
        } <span class="kw">else </span>{
            LAYERS.remove(anchored);
        }
        inserted.set(!inserted.get());
    });
    layout::align = layout::Align::CENTER;
    child = <span class="macro">Text!</span>(inserted.map(|<span class="kw-2">&amp;</span>o| <span class="kw">if </span>o { <span class="string">"Remove Layer" </span>} <span class="kw">else </span>{ <span class="string">"Insert Layer" </span>}.into()));
}</code></pre></div>
<p>Node operations always apply to the window content first then the layers, even with parallelism enabled,
this means that layers always render over the window content and that layer widgets can react to normal widget
updates within the same frame.</p>
<h2 id="full-api"><a class="doc-anchor" href="#full-api">§</a>Full API</h2>
<p>See <a href="../../zng_wgt_layer/index.html" title="mod zng_wgt_layer"><code>zng_wgt_layer</code></a> for the full layers API.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AnchorMode.html" title="struct zng::layer::AnchorMode">Anchor<wbr>Mode</a></div><div class="desc docblock-short">Defines what properties the layered widget takes from the anchor widget.</div></li><li><div class="item-name"><a class="struct" href="struct.AnchorOffset.html" title="struct zng::layer::AnchorOffset">Anchor<wbr>Offset</a></div><div class="desc docblock-short">Represents two points that position a layer widget with its anchor widget.</div></li><li><div class="item-name"><a class="struct" href="struct.LAYERS.html" title="struct zng::layer::LAYERS">LAYERS</a></div><div class="desc docblock-short">Windows layers.</div></li><li><div class="item-name"><a class="struct" href="struct.LayerIndex.html" title="struct zng::layer::LayerIndex">Layer<wbr>Index</a></div><div class="desc docblock-short">Represents a layer in a window.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AnchorSize.html" title="enum zng::layer::AnchorSize">Anchor<wbr>Size</a></div><div class="desc docblock-short">Options for <a href="struct.AnchorMode.html" title="struct zng::layer::AnchorMode"><code>AnchorMode</code></a> size constraints.</div></li><li><div class="item-name"><a class="enum" href="enum.AnchorTransform.html" title="enum zng::layer::AnchorTransform">Anchor<wbr>Transform</a></div><div class="desc docblock-short">Options for <a href="struct.AnchorMode.html#structfield.transform" title="field zng::layer::AnchorMode::transform"><code>AnchorMode::transform</code></a>.</div></li></ul><h2 id="statics" class="section-header">Statics<a href="#statics" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="static" href="static.LAYERS_INSERT_CMD.html" title="static zng::layer::LAYERS_INSERT_CMD">LAYER<wbr>S_<wbr>INSER<wbr>T_<wbr>CMD</a></div><div class="desc docblock-short">Insert a layer widget on the scoped window.</div></li><li><div class="item-name"><a class="static" href="static.LAYERS_REMOVE_CMD.html" title="static zng::layer::LAYERS_REMOVE_CMD">LAYER<wbr>S_<wbr>REMOV<wbr>E_<wbr>CMD</a></div><div class="desc docblock-short">Remove a layer widget on the scoped window.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.adorner.html" title="fn zng::layer::adorner">adorner</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Custom layered foreground.</div></li><li><div class="item-name"><a class="fn" href="fn.adorner_fn.html" title="fn zng::layer::adorner_fn">adorner_<wbr>fn</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Custom layered foreground generated using a <a href="../widget/struct.WidgetFn.html" title="struct zng::widget::WidgetFn"><code>WidgetFn&lt;()&gt;</code></a>.</div></li></ul></section></div></main></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Scroll widgets, commands and properties."><title>zng::scroll - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="zng" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.2 (25ef9e3d8 2024-04-09)" data-channel="1.77.2" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/zng-ui/zng/master/examples/res/image/zng-logo-icon.png"><link rel="stylesheet" href="/doc/zng-material-icons-extensions.css">
</head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../zng/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/master/examples/res/image/zng-logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../zng/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/master/examples/res/image/zng-logo.png" alt="logo"></a><h2><a href="../../zng/index.html">zng</a><span class="version">0.3.3</span></h2></div><h2 class="location"><a href="#">Module scroll</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate zng</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../zng/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">zng</a>::<wbr><a class="mod" href="#">scroll</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/zng/scroll.rs.html#1-96">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Scroll widgets, commands and properties.</p>
<p>The <a href="struct.Scroll.html" title="struct zng::scroll::Scroll"><code>Scroll!</code></a> widget allows content to be of any size, overflow is clipped and can be brought
into view by scrolling, the widget also supports content zooming and scrolling in only one dimension. The
<a href="struct.Scroll.html#method.mode" title="struct zng::scroll::Scroll"><code>mode</code></a> property can be used to dynamically change the <a href="struct.ScrollMode.html" title="struct zng::scroll::ScrollMode"><code>ScrollMode</code></a>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>zng::prelude::<span class="kw-2">*</span>;

<span class="macro">Scroll! </span>{
    <span class="comment">// ZOOM includes PAN that includes VERTICAL and HORIZONTAL
    </span>mode = zng::scroll::ScrollMode::ZOOM;
    <span class="comment">// mouse press and drag scrolls
    </span>mouse_pan = <span class="bool-val">true</span>;
     
    child = <span class="macro">Image! </span>{
        <span class="comment">// center_viewport uses the SCROLL service
        </span>img_loading_fn = <span class="macro">wgt_fn!</span>(|<span class="kw">_</span>| center_viewport(<span class="macro">Text!</span>(<span class="string">"loading.."</span>)));
         
        <span class="comment">// content is a large image
        </span>source = <span class="string">"https://upload.wikimedia.org/wikipedia/commons/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg"</span>;
        img_limits = zng::image::ImageLimits::none();
        img_downscale = zng::image::ImageDownscale::from(layout::Px(<span class="number">8000</span>));
    }
}

<span class="kw">fn </span>center_viewport(msg: <span class="kw">impl </span>UiNode) -&gt; <span class="kw">impl </span>UiNode {
    <span class="kw">use </span>zng::scroll::SCROLL;
    <span class="macro">Container! </span>{
        <span class="comment">// center the message on the scroll viewport:
        //
        // the large images can take a moment to decode in debug builds, but the size
        // is already known after read, so the "loading.." message ends-up off-screen
        // because it is centered on the image.
        </span>layout::x = <span class="macro">merge_var!</span>(SCROLL.horizontal_offset(), SCROLL.zoom_scale(), |<span class="kw-2">&amp;</span>h, <span class="kw-2">&amp;</span>s| h.<span class="number">0</span>.fct_l() - <span class="number">1</span>.vw() / s * h);
        layout::y = <span class="macro">merge_var!</span>(SCROLL.vertical_offset(), SCROLL.zoom_scale(), |<span class="kw-2">&amp;</span>v, <span class="kw-2">&amp;</span>s| v.<span class="number">0</span>.fct_l() - <span class="number">1</span>.vh() / s * v);
        layout::scale = SCROLL.zoom_scale().map(|<span class="kw-2">&amp;</span>fct| <span class="number">1</span>.fct() / fct);
        layout::transform_origin = <span class="number">0</span>;
        widget::auto_hide = <span class="bool-val">false</span>;
        layout::max_size = (<span class="number">1</span>.vw(), <span class="number">1</span>.vh());
         
        child_align = Align::CENTER;
        child = msg;
    }
}</code></pre></div>
<p>The example above declares a scroll with zoom and mouse pan features enabled, is also makes use of the <a href="struct.SCROLL.html" title="struct zng::scroll::SCROLL"><code>SCROLL</code></a> service
to implement the <code>center_viewport</code> widget that is place in the content, but transforms to always be in the viewport.</p>
<p>The <code>SCROLL</code> service can be used to interact with the parent <code>Scroll!</code>, you can also use commands in <a href="cmd/index.html" title="mod zng::scroll::cmd"><code>cmd</code></a> to
control any <code>Scroll!</code> widget.</p>
<h2 id="full-api"><a class="doc-anchor" href="#full-api">§</a>Full API</h2>
<p>See <a href="../../zng_wgt_scroll/index.html" title="mod zng_wgt_scroll"><code>zng_wgt_scroll</code></a> for the full widget API.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="cmd/index.html" title="mod zng::scroll::cmd">cmd</a></div><div class="desc docblock-short">Scroll commands.</div></li><li><div class="item-name"><a class="mod" href="scrollbar/index.html" title="mod zng::scroll::scrollbar">scrollbar</a></div><div class="desc docblock-short">Scroll widget.</div></li><li><div class="item-name"><a class="mod" href="thumb/index.html" title="mod zng::scroll::thumb">thumb</a></div><div class="desc docblock-short">Scrollbar thumb widget.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.SCROLL.html" title="struct zng::scroll::SCROLL">SCROLL</a></div><div class="desc docblock-short">Controls the parent scroll.</div></li><li><div class="item-name"><a class="struct" href="struct.Scroll.html" title="struct zng::scroll::Scroll">Scroll</a></div><div class="desc docblock-short"><strong title='Widget struct and macro' data-tag='W'><code>W</code></strong>  A single content container that can be larger on the inside.</div></li><li><div class="item-name"><a class="struct" href="struct.ScrollBarArgs.html" title="struct zng::scroll::ScrollBarArgs">ScrollBarArgs</a></div><div class="desc docblock-short">Arguments for scrollbar widget functions.</div></li><li><div class="item-name"><a class="struct" href="struct.ScrollInfo.html" title="struct zng::scroll::ScrollInfo">ScrollInfo</a></div><div class="desc docblock-short">Shared reference to the viewport bounds of a scroll.</div></li><li><div class="item-name"><a class="struct" href="struct.ScrollMode.html" title="struct zng::scroll::ScrollMode">ScrollMode</a></div><div class="desc docblock-short">What dimensions are scrollable in a widget.</div></li><li><div class="item-name"><a class="struct" href="struct.ScrollUnitsMix.html" title="struct zng::scroll::ScrollUnitsMix">ScrollUnitsMix</a></div><div class="desc docblock-short"><strong title='Widget mix-in struct' data-tag='m'><code>m</code></strong>  Properties that define scroll units.</div></li><li><div class="item-name"><a class="struct" href="struct.Scrollbar.html" title="struct zng::scroll::Scrollbar">Scrollbar</a></div><div class="desc docblock-short"><strong title='Widget struct and macro' data-tag='W'><code>W</code></strong>  Scrollbar widget.</div></li><li><div class="item-name"><a class="struct" href="struct.ScrollbarFnMix.html" title="struct zng::scroll::ScrollbarFnMix">ScrollbarFnMix</a></div><div class="desc docblock-short"><strong title='Widget mix-in struct' data-tag='m'><code>m</code></strong>  Properties that defines the scrollbar widget used in scrolls.</div></li><li><div class="item-name"><a class="struct" href="struct.SmoothScrolling.html" title="struct zng::scroll::SmoothScrolling">SmoothScrolling</a></div><div class="desc docblock-short">Smooth scrolling config.</div></li><li><div class="item-name"><a class="struct" href="struct.Thumb.html" title="struct zng::scroll::Thumb">Thumb</a></div><div class="desc docblock-short"><strong title='Widget struct and macro' data-tag='W'><code>W</code></strong>  Scrollbar thumb widget.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.LazyMode.html" title="enum zng::scroll::LazyMode">LazyMode</a></div><div class="desc docblock-short">Lazy loading mode of a widget.</div></li><li><div class="item-name"><a class="enum" href="enum.ScrollFrom.html" title="enum zng::scroll::ScrollFrom">ScrollFrom</a></div><div class="desc docblock-short">Defines a scroll delta and to what value source it is applied.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.WidgetInfoExt.html" title="trait zng::scroll::WidgetInfoExt">WidgetInfoExt</a></div><div class="desc docblock-short">Scroll extensions for <a href="../widget/info/struct.WidgetInfo.html" title="struct zng::widget::info::WidgetInfo"><code>WidgetInfo</code></a>.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.alt_factor.html" title="fn zng::scroll::alt_factor">alt_factor</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Scroll unit multiplier used when alternate scrolling.</div></li><li><div class="item-name"><a class="fn" href="fn.auto_hide_extra.html" title="fn zng::scroll::auto_hide_extra">auto_hide_extra</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Extra space added to the viewport auto-hide rectangle.</div></li><li><div class="item-name"><a class="fn" href="fn.clip_to_viewport.html" title="fn zng::scroll::clip_to_viewport">clip_to_viewport</a></div><div class="desc docblock-short"><strong title='Capture-only property function' data-tag='c'><code>c</code></strong>  Clip content to only be visible within the viewport, not under scrollbars.</div></li><li><div class="item-name"><a class="fn" href="fn.define_viewport_unit.html" title="fn zng::scroll::define_viewport_unit">define_viewport_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  If the scroll defines its viewport size as the <a href="../layout/struct.LayoutMetrics.html#method.viewport" title="method zng::layout::LayoutMetrics::viewport"><code>LayoutMetrics::viewport</code></a> for the scroll content.</div></li><li><div class="item-name"><a class="fn" href="fn.h_line_unit.html" title="fn zng::scroll::h_line_unit">h_line_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal offset added when the <a href="cmd/static.SCROLL_RIGHT_CMD.html" title="static zng::scroll::cmd::SCROLL_RIGHT_CMD"><code>SCROLL_RIGHT_CMD</code></a> runs and removed when the <a href="cmd/static.SCROLL_LEFT_CMD.html" title="static zng::scroll::cmd::SCROLL_LEFT_CMD"><code>SCROLL_LEFT_CMD</code></a> runs.</div></li><li><div class="item-name"><a class="fn" href="fn.h_page_unit.html" title="fn zng::scroll::h_page_unit">h_page_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal offset added when the <a href="cmd/static.PAGE_RIGHT_CMD.html" title="static zng::scroll::cmd::PAGE_RIGHT_CMD"><code>PAGE_RIGHT_CMD</code></a> runs and removed when the <a href="cmd/static.PAGE_LEFT_CMD.html" title="static zng::scroll::cmd::PAGE_LEFT_CMD"><code>PAGE_LEFT_CMD</code></a> runs.</div></li><li><div class="item-name"><a class="fn" href="fn.h_scrollbar_fn.html" title="fn zng::scroll::h_scrollbar_fn">h_scrollbar_fn</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal scrollbar function for all scroll widget descendants.</div></li><li><div class="item-name"><a class="fn" href="fn.h_wheel_unit.html" title="fn zng::scroll::h_wheel_unit">h_wheel_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal offset added when the mouse wheel is scrolling by lines.</div></li><li><div class="item-name"><a class="fn" href="fn.lazy.html" title="fn zng::scroll::lazy">lazy</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Enables lazy init for the widget.</div></li><li><div class="item-name"><a class="fn" href="fn.line_units.html" title="fn zng::scroll::line_units">line_units</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal and vertical offsets used when scrolling.</div></li><li><div class="item-name"><a class="fn" href="fn.max_zoom.html" title="fn zng::scroll::max_zoom">max_zoom</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Maximum scale allowed when <a href="struct.ScrollMode.html#associatedconstant.ZOOM" title="associated constant zng::scroll::ScrollMode::ZOOM"><code>ScrollMode::ZOOM</code></a> is enabled.</div></li><li><div class="item-name"><a class="fn" href="fn.min_zoom.html" title="fn zng::scroll::min_zoom">min_zoom</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Minimum scale allowed when <a href="struct.ScrollMode.html#associatedconstant.ZOOM" title="associated constant zng::scroll::ScrollMode::ZOOM"><code>ScrollMode::ZOOM</code></a> is enabled.</div></li><li><div class="item-name"><a class="fn" href="fn.mode.html" title="fn zng::scroll::mode">mode</a></div><div class="desc docblock-short"><strong title='Capture-only property function' data-tag='c'><code>c</code></strong>  Scroll mode.</div></li><li><div class="item-name"><a class="fn" href="fn.mouse_pan.html" title="fn zng::scroll::mouse_pan">mouse_pan</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Scroll by grabbing and dragging the content with the mouse primary button.</div></li><li><div class="item-name"><a class="fn" href="fn.overscroll_color.html" title="fn zng::scroll::overscroll_color">overscroll_color</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Color of the overscroll indicator.</div></li><li><div class="item-name"><a class="fn" href="fn.page_units.html" title="fn zng::scroll::page_units">page_units</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal and vertical offsets used when page-scrolling.</div></li><li><div class="item-name"><a class="fn" href="fn.scroll_to_focused_mode.html" title="fn zng::scroll::scroll_to_focused_mode">scroll_to_focused_mode</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Scroll-to mode used by scroll widgets when scrolling to make the focused child visible.</div></li><li><div class="item-name"><a class="fn" href="fn.scrollbar_fn.html" title="fn zng::scroll::scrollbar_fn">scrollbar_fn</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Scrollbar function for both orientations applicable to all scroll widget descendants.</div></li><li><div class="item-name"><a class="fn" href="fn.scrollbar_joiner_fn.html" title="fn zng::scroll::scrollbar_joiner_fn">scrollbar_joiner_fn</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Widget function for the little square in the corner that joins the two scrollbars when both are visible.</div></li><li><div class="item-name"><a class="fn" href="fn.smooth_scrolling.html" title="fn zng::scroll::smooth_scrolling">smooth_scrolling</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Smooth scrolling config.</div></li><li><div class="item-name"><a class="fn" href="fn.v_line_unit.html" title="fn zng::scroll::v_line_unit">v_line_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Vertical offset added when the <a href="cmd/static.SCROLL_DOWN_CMD.html" title="static zng::scroll::cmd::SCROLL_DOWN_CMD"><code>SCROLL_DOWN_CMD</code></a> runs and removed when the <a href="cmd/static.SCROLL_UP_CMD.html" title="static zng::scroll::cmd::SCROLL_UP_CMD"><code>SCROLL_UP_CMD</code></a> runs.</div></li><li><div class="item-name"><a class="fn" href="fn.v_page_unit.html" title="fn zng::scroll::v_page_unit">v_page_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Vertical offset added when the <a href="cmd/static.PAGE_DOWN_CMD.html" title="static zng::scroll::cmd::PAGE_DOWN_CMD"><code>PAGE_DOWN_CMD</code></a> runs and removed when the <a href="cmd/static.PAGE_UP_CMD.html" title="static zng::scroll::cmd::PAGE_UP_CMD"><code>PAGE_UP_CMD</code></a> runs.</div></li><li><div class="item-name"><a class="fn" href="fn.v_scrollbar_fn.html" title="fn zng::scroll::v_scrollbar_fn">v_scrollbar_fn</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Vertical scrollbar function for all scroll widget descendants.</div></li><li><div class="item-name"><a class="fn" href="fn.v_wheel_unit.html" title="fn zng::scroll::v_wheel_unit">v_wheel_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Vertical offset added when the mouse wheel is scrolling by lines.</div></li><li><div class="item-name"><a class="fn" href="fn.wheel_units.html" title="fn zng::scroll::wheel_units">wheel_units</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Horizontal and vertical offsets used when mouse wheel scrolling.</div></li><li><div class="item-name"><a class="fn" href="fn.zoom_origin.html" title="fn zng::scroll::zoom_origin">zoom_origin</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Center point of zoom scaling done using mouse scroll wheel and touch gesture.</div></li><li><div class="item-name"><a class="fn" href="fn.zoom_touch_origin.html" title="fn zng::scroll::zoom_touch_origin">zoom_touch_origin</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Center point of zoom scaling done using the touch <em>pinch</em> gesture.</div></li><li><div class="item-name"><a class="fn" href="fn.zoom_wheel_origin.html" title="fn zng::scroll::zoom_wheel_origin">zoom_wheel_origin</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Center point of zoom scaling done using the mouse scroll wheel.</div></li><li><div class="item-name"><a class="fn" href="fn.zoom_wheel_unit.html" title="fn zng::scroll::zoom_wheel_unit">zoom_wheel_unit</a></div><div class="desc docblock-short"><strong title='Property function' data-tag='P'><code>P</code></strong>  Scale delta added when the mouse wheel is zooming by lines.</div></li></ul></section></div></main></body></html>
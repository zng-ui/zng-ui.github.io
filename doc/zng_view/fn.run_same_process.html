<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Runs the view-process server in the current process and calls `run_app` to also run the app in the current process. Note that `run_app` will be called in a different thread."><title>run_same_process in zng_view - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="zng_view" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0 (9fc6b4312 2025-01-07)" data-channel="1.84.0" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo-icon.png"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../zng_view/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../zng_view/index.html"><img src="https://raw.githubusercontent.com/zng-ui/zng/main/examples/image/res/zng-logo.png" alt="logo"></a><h2><a href="../zng_view/index.html">zng_<wbr>view</a><span class="version">0.7.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">run_<wbr>same_<wbr>process</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#panics" title="Panics">Panics</a><ul><li><a href="#background-panics-warning" title="Background Panics Warning">Background Panics Warning</a></li></ul></li><li><a href="#android" title="Android">Android</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate zng_<wbr>view</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">zng_view</a></span><h1>Function <span class="fn">run_same_process</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/zng_view/lib.rs.html#234-236">Source</a> </span></div><pre class="rust item-decl"><code>pub fn run_same_process(run_app: impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() + <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Runs the view-process server in the current process and calls <code>run_app</code> to also
run the app in the current process. Note that <code>run_app</code> will be called in a different thread.</p>
<p>In this mode the app only uses a single process, reducing the memory footprint, but it is also not
resilient to video driver crashes, the view server <strong>does not</strong> respawn in this mode.</p>
<h2 id="panics"><a class="doc-anchor" href="#panics">ยง</a>Panics</h2>
<p>Panics if not called in the main thread, this is a requirement of some operating systems.</p>
<h3 id="background-panics-warning"><a class="doc-anchor" href="#background-panics-warning">ยง</a>Background Panics Warning</h3>
<p>Note that <code>webrender</code> can freeze due to panics in worker threads without propagating
the panics to the main thread, this causes the app to stop responding while still receiving
event signals, causing the operating system to not detect that the app is frozen. It is recommended
that you build with <code>panic=abort</code> or use <a href="https://doc.rust-lang.org/1.84.0/std/panicking/fn.set_hook.html" title="fn std::panicking::set_hook"><code>std::panic::set_hook</code></a> to detect these background panics.</p>
<h2 id="android"><a class="doc-anchor" href="#android">ยง</a>Android</h2>
<p>In Android builds <code>android::init_android_app</code> must be called before this function, otherwise it will panic.</p>
</div></details></section></div></main></body></html>
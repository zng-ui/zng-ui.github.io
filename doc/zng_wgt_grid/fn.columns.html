<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="B  Column definitions."><title>columns in zng_wgt_grid - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="zng_wgt_grid" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0 (1159e78c4 2025-09-14)" data-channel="1.90.0" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-68b7e25d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-32bb7600.css"></noscript><link rel="icon" href="https://zng-ui.github.io/res/zng-logo-icon.png"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../zng_wgt_grid/index.html"><img src="https://zng-ui.github.io/res/zng-logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../zng_wgt_grid/index.html"><img src="https://zng-ui.github.io/res/zng-logo.png" alt="logo"></a><h2><a href="../zng_wgt_grid/index.html">zng_<wbr>wgt_<wbr>grid</a><span class="version">0.9.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">columns</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#layout-modes" title="Layout Modes">Layout Modes</a><ul><li><a href="#overflow-recovery" title="Overflow Recovery">Overflow Recovery</a></li></ul></li><li><a href="#notes" title="Notes">Notes</a></li><li><a href="#mixin-property" title="Mixin Property">Mixin Property</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate zng_<wbr>wgt_<wbr>grid</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">zng_wgt_grid</a></div><h1>Function <span class="fn">columns</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/zng_wgt_grid/lib.rs.html#109-112">Source</a> </span></div><pre class="rust item-decl"><code>pub fn columns(wgt: &amp;mut <a class="struct" href="../zng_app/widget/builder/struct.WidgetBuilding.html" title="struct zng_app::widget::builder::WidgetBuilding">WidgetBuilding</a>, columns: impl <a class="trait" href="../zng_app/widget/node/trait.IntoUiNode.html" title="trait zng_app::widget::node::IntoUiNode">IntoUiNode</a>)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><strong title='Build action property function' data-tag='B'><code>B</code></strong>  Column definitions.</p>
<p>Columns are defined by widgets, the column widget width defines the width of cells assigned to the column,
the <a href="struct.Column.html" title="struct zng_wgt_grid::Column"><code>Column!</code></a> widget is recommended, but you can use any widget to define a column. The column widget is rendered
as the background of the column region, behind cells and row backgrounds.</p>
<h4 id="layout-modes"><a class="doc-anchor" href="#layout-modes">§</a>Layout Modes</h4>
<p>The grid uses the <a href="../zng_wgt_size_offset/struct.WIDGET_SIZE.html" title="struct zng_wgt_size_offset::WIDGET_SIZE"><code>WIDGET_SIZE</code></a> value to select one of three layout modes for columns:</p>
<ul>
<li><em>Default</em>, used for columns that do not set width or set it to <a href="../zng_layout/unit/length/enum.Length.html#variant.Default" title="variant zng_layout::unit::length::Length::Default"><code>Length::Default</code></a>.</li>
<li><em>Exact</em>, used for columns that set the width to an unit that is exact or only depends on the grid context.</li>
<li><em>Leftover</em>, used for columns that set width to a <a href="../zng_layout/unit/length/trait.LengthUnits.html#tymethod.lft" title="method zng_layout::unit::length::LengthUnits::lft"><code>lft</code></a> value.</li>
</ul>
<p>The column (and row) measure follows these steps:</p>
<p>1 - All <em>Exact</em> column widgets are measured, their final width defines the column width.
2 - All <em>Default</em> sized column widgets are measured twice to find its min and max widths.
3 - All cell widgets with span <code>1</code> in <em>Default</em> columns are measured to find the widest cell width. That defines the column width.
4 - All <em>Leftover</em> columns receive the proportional leftover grid width for each.</p>
<p>So given the columns <code>200 | 1.lft() | 1.lft()</code> and grid width of <code>1000</code> with spacing <code>5</code> the final widths are <code>200 | 395 | 395</code>,
for <code>200 + 5 + 395 + 5 + 395 = 1000</code>.</p>
<h5 id="overflow-recovery"><a class="doc-anchor" href="#overflow-recovery">§</a>Overflow Recovery</h5>
<p>In case the columns width overflows and all rows are <em>Default</em> height and some columns are <em>Default</em> width these recovery steps are taken:</p>
<p>1 - All cell widgets with span <code>1</code> in <em>Default</em> columns are measured to find the minimum width they can wrap down too.
2 - All <em>Default</em> columns are sized to the minimum width plus the extra space now available, proportionally divided.
3 - All cells widgets affected are measured again to define the row heights.</p>
<p>The proportion of each <em>Default</em> is the difference between the previous measured width with the new minimum, this is very similar to
the CSS table layout, except the previous measured width is used instead of another measure pass to find the cells maximum width.</p>
<h4 id="notes"><a class="doc-anchor" href="#notes">§</a>Notes</h4>
<p>Note that the column widget is not the parent of the cells that match it.
Properties like <code>padding</code> and <code>align</code> only affect the column visual, not the cells, similarly contextual properties like <code>text_color</code>
don’t affect the cells.</p>
<p>Note that the <em>Default</em> layout mode scales with the cell count, the other modes scale with the column count. This
is fine for small grids (&lt;100 cells) or for simple cell widgets, but for larger grids you should really consider using
an <em>Exact</em> width or <em>Leftover</em> proportion, specially if the grid width is bounded.</p>
<h2 id="mixin-property"><a class="doc-anchor" href="#mixin-property">§</a>Mixin Property</h2>
<p>This property is a <em>mixin</em>, it modifies the widget builder during build, it does not produce a standalone UI node.</p>
</div></details></section></div></main></body></html>